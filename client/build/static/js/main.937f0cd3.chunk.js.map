{"version":3,"sources":["components/AppWrapper/AppWrapper.jsx","redux/actions/authAction.js","components/Preloader/Preloader.jsx","components/CheckLogin/CheckLogin.jsx","components/Container/Container.jsx","lib/helpers/routeHelper.js","redux/actions/chatAction.js","components/ChatContent/ChatNav/ChatNav.jsx","components/ChatContent/ChatBody/ChatBody.jsx","components/ChatContent/ChatStart/ChatStart.jsx","components/ChatContent/ChatContent.jsx","components/SideBar/Profile/Profile.jsx","components/Avater/Avater.jsx","components/SideBar/ChatSingle/ChatSingle.jsx","components/SideBar/ChatHistory/ChatHistory.jsx","components/SideBar/SideTopNav/SideTopNav.jsx","components/SideBar/SideBar.jsx","pages/Home/Home.jsx","pages/Login/LoginForm.jsx","pages/Register/Register.jsx","App.jsx","redux/reducers/authReducer.js","redux/reducers/chatReducer.js","redux/store.js","index.js","lib/helpers/helpers.js"],"names":["AppWrapper","children","className","setLoggedIn","payload","type","setLoggedOut","setLoading","showProfile","Preloader","axios","defaults","withCredentials","CheckLogin","pageLoading","useSelector","state","auth","dispatch","useDispatch","useEffect","get","process","then","user","data","catch","error","Container","PrivateRoute","rest","isLoggedIn","render","location","to","pathname","from","GuestRoute","setActiveConversation","resetNewMessage","ChatNav","receiver","useState","typing","setTyping","socketIo","on","_id","userId","status","src","photoUrl","alt","name","ChatBody","timerRef","useRef","inputMessage","setInputMessage","chat","activeConversation","messages","newMessages","loggedInUser","messagesEndRef","scrollToBottom","current","scrollIntoView","behavior","message","conversation","map","sender","text","ref","style","width","onSubmit","e","preventDefault","replace","post","res","console","log","onChange","target","value","emit","id","clearTimeout","setTimeout","ChatStart","ChatContent","chatOpen","Profile","authUser","onClick","email","delete","err","Avater","isOnline","ChatSingle","participant_id","currentReceiver","float","fontSize","date","createdAt","fromNow","length","substring","ChatHistory","allConversations","msg","response","SideTopNav","placeholder","SideBar","allUser","setAllUser","Home","LoginForm","formError","setFormError","password","inputData","setInputData","handleInputChange","handleSubmit","a","errors","decoratErr","common","Register","selectedFile","setSelectedFile","formData","FormData","append","Object","keys","forEach","key","gender","htmlFor","files","io","App","path","initialState","authReducer","action","newState","chatReducer","combinedReducer","combineReducers","store","createStore","composeWithDevTools","ReactDOM","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.937f0cd3.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst AppWrapper = ({ children }) => {\r\n  return <div className=\"app\">{children}</div>;\r\n};\r\n\r\nexport default AppWrapper;\r\n","export const setLoggedIn = (payload) => {\r\n  return {\r\n    type: \"SET_LOGGED_IN\",\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const setLoggedOut = (payload) => {\r\n  return {\r\n    type: \"SET_LOGGED_OUT\",\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const setLoading = (payload) => {\r\n  return {\r\n    type: \"SET_LOADING\",\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const showProfile = (payload) => {\r\n  return {\r\n    type: \"SHOW_PROFILE\",\r\n    payload,\r\n  };\r\n};\r\n","import React from \"react\";\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div className=\"preloader\">\r\n      <p>\r\n        <span>\r\n          <i className=\"far fa-comment-alt\"></i>{\" \"}\r\n        </span>{\" \"}\r\n        Loading ...\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","import axios from \"axios\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  setLoading,\r\n  setLoggedIn,\r\n  setLoggedOut,\r\n} from \"../../redux/actions/authAction\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\naxios.defaults.withCredentials = true;\r\n\r\nconst CheckLogin = ({ children }) => {\r\n  const pageLoading = useSelector((state) => state.auth.pageLoading);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_API_URL}/auth/get-login`, {\r\n        withCredentials: true,\r\n      })\r\n      .then(({ data }) => {\r\n        const { user } = data.data;\r\n        dispatch(setLoggedIn(user));\r\n        dispatch(setLoading(false));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(setLoggedOut({}));\r\n        dispatch(setLoading(false));\r\n      });\r\n  }, [dispatch]);\r\n\r\n  return pageLoading ? <Preloader /> : children;\r\n};\r\n\r\nexport default CheckLogin;\r\n","import React from \"react\";\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className=\"container\">{children}</div>;\r\n};\r\n\r\nexport default Container;\r\n","import { useSelector } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nexport const PrivateRoute = ({ children, ...rest }) => {\r\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        isLoggedIn ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport const GuestRoute = ({ children, ...rest }) => {\r\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        !isLoggedIn ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/home\",\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n","export const setAllConversation = (payload) => {\r\n  return {\r\n    type: \"SET_ALL_CONVERSATION\",\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const setActiveConversation = (payload) => {\r\n  return {\r\n    type: \"SET_ACTIVE_CONVERSATION\",\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const resetConversation = (payload) => {\r\n  return {\r\n    type: \"RESET_CONVERSATION\",\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const setNewMessages = (payload) => {\r\n  return {\r\n    type: \"SET_NEW_MESSAGE\",\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const resetNewMessage = (payload) => {\r\n  return {\r\n    type: \"RESET_NEW_MESSAGE\",\r\n    payload,\r\n  };\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { socketIo } from \"../../../App\";\r\n\r\nconst ChatNav = ({ receiver }) => {\r\n  const [typing, setTyping] = useState(false);\r\n  useEffect(() => {\r\n    socketIo.on(\"receiver-typing\", function (data) {\r\n      if (receiver._id === data.userId) {\r\n        setTyping(data.status);\r\n      }\r\n    });\r\n  }, []);\r\n  return (\r\n    <div className=\"chat-nav\">\r\n      <div className=\"avatar\">\r\n        <img\r\n          src={`${process.env.REACT_APP_API_URL}/avaters/${receiver.photoUrl}`}\r\n          alt=\"user\"\r\n        />\r\n      </div>\r\n      <div className=\"user-info\">\r\n        <p>{receiver.name}</p>\r\n        {typing ? <small>typing...</small> : <small>online</small>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatNav;\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { socketIo } from \"../../../App\";\r\nimport { setNewMessages } from \"../../../redux/actions/chatAction\";\r\nimport ChatNav from \"../ChatNav/ChatNav\";\r\n\r\nconst ChatBody = () => {\r\n  const dispatch = useDispatch();\r\n  const timerRef = useRef(null);\r\n  const [typing, setTyping] = useState(false);\r\n  const [inputMessage, setInputMessage] = useState(\"\");\r\n  const { activeConversation, receiver, messages, newMessages } = useSelector(\r\n    (state) => state.chat\r\n  );\r\n\r\n  const loggedInUser = useSelector((state) => state.auth.loggedInUser);\r\n\r\n  const messagesEndRef = useRef(null);\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n    socketIo.on(\"message-sent\", function (message) {\r\n      if (message.conversation === activeConversation._id) {\r\n        dispatch(setNewMessages(message));\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [newMessages]);\r\n\r\n  //on change, start the countdown\r\n  const startTyping = () => {\r\n    if (!typing) {\r\n      socketIo.emit(\"typing\", { userId: loggedInUser.id, status: true });\r\n      setTyping(true);\r\n      console.log(\"start typing...\");\r\n    }\r\n    if (timerRef.current) {\r\n      clearTimeout(timerRef.current);\r\n    }\r\n\r\n    timerRef.current = setTimeout(() => {\r\n      socketIo.emit(\"typing\", { userId: loggedInUser.id, status: false });\r\n      setTyping(false);\r\n      console.log(\"stop typing\");\r\n    }, 2000);\r\n  };\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (inputMessage.replace(/\\s/g, \"\")) {\r\n      const data = {\r\n        conversation: activeConversation._id,\r\n        receiver: receiver._id,\r\n        text: inputMessage,\r\n      };\r\n      axios\r\n        .post(`/message/new-message`, data)\r\n        .then((res) => {\r\n          setInputMessage(\"\");\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputMessage(e.target.value);\r\n    startTyping();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ChatNav receiver={receiver} typing={typing} />\r\n\r\n      <div className=\"chat-body\">\r\n        <div className=\"message-container\">\r\n          {messages.map((message) => (\r\n            <div\r\n              key={message._id}\r\n              className={`${\r\n                message.sender === receiver._id\r\n                  ? \"messages\"\r\n                  : \"messages message-right\"\r\n              }`}\r\n            >\r\n              <p>{message.text}</p>\r\n            </div>\r\n          ))}\r\n\r\n          {newMessages.map((message) => (\r\n            <div\r\n              key={message._id}\r\n              className={`${\r\n                message.sender === receiver._id\r\n                  ? \"messages\"\r\n                  : \"messages message-right\"\r\n              }`}\r\n            >\r\n              <p>{message.text}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div ref={messagesEndRef}></div>\r\n      </div>\r\n      <div className=\"chat-footer\">\r\n        <form style={{ width: \"100%\" }} onSubmit={sendMessage}>\r\n          <div className=\"chat-form\">\r\n            <input\r\n              onChange={handleInputChange}\r\n              type=\"text\"\r\n              name=\"\"\r\n              id=\"\"\r\n              value={inputMessage}\r\n            />\r\n            <button type=\"submit\">Send</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChatBody;\r\n","import React from \"react\";\r\n\r\nconst ChatStart = () => {\r\n  return (\r\n    <div className=\"chat-start\">\r\n      <div className=\"chat-icon\">\r\n        <i className=\"far fa-comment-alt\"></i>\r\n      </div>\r\n      <p>Start Conversation</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatStart;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport ChatBody from \"./ChatBody/ChatBody\";\r\nimport ChatStart from \"./ChatStart/ChatStart\";\r\n\r\nconst ChatContent = () => {\r\n  const { chatOpen } = useSelector((state) => state.chat);\r\n\r\n  return (\r\n    <div className=\"content\">{!chatOpen ? <ChatStart /> : <ChatBody />}</div>\r\n  );\r\n};\r\n\r\nexport default ChatContent;\r\n","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setLoggedOut, showProfile } from \"../../../redux/actions/authAction\";\r\n\r\nconst Profile = () => {\r\n  const dispatch = useDispatch();\r\n  const authUser = useSelector((state) => state.auth.loggedInUser);\r\n  const signOut = () => {\r\n    axios\r\n      .delete(`${process.env.REACT_APP_API_URL}/auth/logout`)\r\n      .then((res) => {\r\n        dispatch(setLoggedOut({}));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"close-button\">\r\n        <i className=\"fas fa-times\" onClick={() => dispatch(showProfile())}></i>\r\n      </div>\r\n      <div className=\"profile-content\">\r\n        <div className=\"profile-details\">\r\n          <div className=\"avatar\">\r\n            <img\r\n              src={`${process.env.REACT_APP_API_URL}/avaters/${authUser.photoUrl}`}\r\n              alt=\"user\"\r\n            />\r\n          </div>\r\n          <p className=\"profile-name\">{authUser.name}</p>\r\n          <p className=\"profile-mail\">{authUser.email}</p>\r\n        </div>\r\n\r\n        <div className=\"profile-footer\">\r\n          <button className=\"btn-signout\" onClick={() => signOut()}>\r\n            Sign out\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\n\r\nconst Avater = ({ user }) => {\r\n  return (\r\n    <div className= {`${user.isOnline? \"online\": \"\"} avatar`}>\r\n      <img src={`${process.env.REACT_APP_API_URL}/avaters/${user.photoUrl}`} alt=\"user\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Avater;\r\n","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  resetNewMessage,\r\n  setActiveConversation,\r\n} from \"../../../redux/actions/chatAction\";\r\nimport Avater from \"../../Avater/Avater\";\r\n\r\nconst ChatSingle = ({ conversation }) => {\r\n  const dispatch = useDispatch();\r\n  const startChat = (participant_id) => {\r\n    axios\r\n      .post(`${process.env.REACT_APP_API_URL}/message/new-conversation`, {\r\n        participant_id: participant_id,\r\n      })\r\n      .then(({ data }) => {\r\n        const { receiver, messages, conversation } = data.data;\r\n        dispatch(resetNewMessage([]));\r\n        dispatch(setActiveConversation({ receiver, messages, conversation }));\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"chat-single\"\r\n      onClick={() => startChat(conversation.currentReceiver._id)}\r\n    >\r\n      <Avater user={conversation.currentReceiver} />\r\n      <div className=\"chat-info\">\r\n        <h3>\r\n          {conversation.currentReceiver.name}\r\n          <span style={{ float: \"right\", fontSize: \"10px\" }}>\r\n            {conversation.message && (\r\n              <Moment date={conversation.message.createdAt} fromNow />\r\n            )}\r\n          </span>{\" \"}\r\n        </h3>\r\n        <p>\r\n          {conversation.message?.text.length > 20\r\n            ? conversation.message?.text.substring(0, 20) + \"...\"\r\n            : conversation.message?.text}{\" \"}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatSingle;\r\n","import axios from \"axios\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setAllConversation } from \"../../../redux/actions/chatAction\";\r\nimport ChatSingle from \"../ChatSingle/ChatSingle\";\r\n\r\nconst ChatHistory = () => {\r\n  const dispatch = useDispatch();\r\n  const { allConversations } = useSelector((state) => state.chat);\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_API_URL}/message/get-all-conversation`)\r\n      .then(({ data }) => {\r\n        const { msg } = data.data;\r\n        console.log(msg);\r\n        dispatch(setAllConversation(msg));\r\n      })\r\n      .catch((error) => console.log(error.response));\r\n  }, []);\r\n  return (\r\n    <div className=\"chat-history\">\r\n      <h3 className=\"sidebar-title\">Chat</h3>\r\n      {allConversations.map(\r\n        (conversation) =>\r\n          conversation.message && (\r\n            <ChatSingle\r\n              key={conversation.currentReceiver._id}\r\n              conversation={conversation}\r\n            />\r\n          )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatHistory;\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { showProfile } from \"../../../redux/actions/authAction\";\r\n\r\nconst SideTopNav = () => {\r\n  const dispatch = useDispatch();\r\n  const authUser = useSelector((state) => state.auth.loggedInUser);\r\n  return (\r\n    <div className=\"sidebar-nav\">\r\n      <div className=\"avatar online\" onClick={() => dispatch(showProfile())}>\r\n        <img\r\n          src={`${process.env.REACT_APP_API_URL}/avaters/${authUser.photoUrl}`}\r\n          alt=\"user\"\r\n        />\r\n      </div>\r\n      <div className=\"search\">\r\n        <div className=\"input-group\">\r\n          <i className=\"fa fa-search icon\"></i>\r\n          <input className=\"input-field\" type=\"text\" placeholder=\"search\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SideTopNav;\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  resetNewMessage,\r\n  setActiveConversation,\r\n} from \"../../redux/actions/chatAction\";\r\nimport Avater from \"../Avater/Avater\";\r\nimport ChatHistory from \"./ChatHistory/ChatHistory\";\r\nimport SideTopNav from \"./SideTopNav/SideTopNav\";\r\n\r\nconst SideBar = () => {\r\n  const dispatch = useDispatch();\r\n  const [allUser, setAllUser] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_API_URL}/user/get-all-users`)\r\n      .then(({ data }) => {\r\n        const { user } = data.data;\r\n        setAllUser(user);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }, [dispatch]);\r\n\r\n  const startChat = (participant_id) => {\r\n    axios\r\n      .post(`${process.env.REACT_APP_API_URL}/message/new-conversation`, {\r\n        participant_id: participant_id,\r\n      })\r\n      .then(({ data }) => {\r\n        const { receiver, messages, conversation } = data.data;\r\n        dispatch(resetNewMessage([]));\r\n        dispatch(setActiveConversation({ receiver, messages, conversation }));\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <SideTopNav></SideTopNav>\r\n      <div className=\"sidebar-content\">\r\n        <ChatHistory></ChatHistory>\r\n\r\n        <div className=\"chat-history\">\r\n          <h3 className=\"sidebar-title\">Users</h3>\r\n          {allUser.map((user) => (\r\n            <div\r\n              key={user._id}\r\n              className=\"chat-single\"\r\n              onClick={() => startChat(user._id)}\r\n            >\r\n              <Avater user={user} />\r\n              <div className=\"chat-info\">\r\n                <h3>\r\n                  {user.name}\r\n                  <span style={{ float: \"right\", fontSize: \"10px\" }}>\r\n                    12:22 pm\r\n                  </span>{\" \"}\r\n                </h3>\r\n                <p>{user.email}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SideBar;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport ChatContent from \"../../components/ChatContent/ChatContent\";\r\nimport Profile from \"../../components/SideBar/Profile/Profile\";\r\nimport SideBar from \"../../components/SideBar/SideBar\";\r\n\r\nconst Home = () => {\r\n  const showProfile = useSelector((state) => state.auth.showProfile);\r\n  return (\r\n    <>\r\n      {showProfile ? <Profile /> : <SideBar />}\r\n      <ChatContent />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { decoratErr } from \"../../lib/helpers/helpers\";\r\nimport { setLoggedIn } from \"../../redux/actions/authAction\";\r\n\r\nconst LoginForm = () => {\r\n  const [formError, setFormError] = useState();\r\n  const [inputData, setInputData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const dispatch = useDispatch();\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputData({\r\n      ...inputData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/auth/login`,\r\n        inputData\r\n      );\r\n      const { user } = res.data.data;\r\n      dispatch(setLoggedIn(user));\r\n    } catch (error) {\r\n      const { errors } = error.response.data;\r\n      console.log(errors)\r\n      setFormError(decoratErr(errors));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"sidebar\"></div>\r\n\r\n      <div className=\"chat-start\">\r\n        <form className=\"form-signup\" onSubmit={handleSubmit}>\r\n          <h3>Sign In</h3>\r\n\r\n          <div className=\"d-flex\">\r\n            <input\r\n              name=\"email\"\r\n              className=\"input-primary\"\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              onChange={handleInputChange}\r\n            />\r\n          </div>\r\n          <small className=\"input-error\">{formError?.email}</small>\r\n          <div className=\"d-flex\">\r\n            <input\r\n              name=\"password\"\r\n              className=\"input-primary\"\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              onChange={handleInputChange}\r\n            />\r\n          </div>\r\n          <small className=\"input-error\">{formError?.password}</small>\r\n          <small className=\"input-error\">{formError?.common}</small>\r\n\r\n          <div className=\"d-flex mt-20\">\r\n            <input className=\"button-secondary\" type=\"reset\" value=\"Cancel\" />\r\n            <input className=\"button-primary\" type=\"submit\" value=\"Login\" />\r\n          </div>\r\n\r\n          <div className=\"d-flex\">\r\n            <div className=\"form-footer\">\r\n              Dont hav an account? <Link to=\"/register\">Sign up</Link>{\" \"}\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { decoratErr } from \"../../lib/helpers/helpers\";\r\nimport { setLoggedIn } from \"../../redux/actions/authAction\";\r\n\r\nconst Register = () => {\r\n  const [inputData, setInputData] = useState({});\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [formError, setFormError] = useState({});\r\n  const dispatch = useDispatch();\r\n\r\n  const fileHandler = (e) => {\r\n    setSelectedFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputData({\r\n      ...inputData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    if (selectedFile) {\r\n      formData.append(\"photoUrl\", selectedFile, selectedFile.name);\r\n    }\r\n    Object.keys(inputData).forEach((key) => {\r\n      formData.append(key, inputData[key]);\r\n    });\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/auth/signup`,\r\n        formData\r\n      );\r\n      console.log(res);\r\n      const { user } = res.data.data;\r\n      dispatch(setLoggedIn(user));\r\n    } catch (error) {\r\n      const { errors } = error.response.data;\r\n\r\n      console.log(errors);\r\n      setFormError(decoratErr(errors));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"sidebar\"></div>\r\n\r\n      <div className=\"chat-start\">\r\n        <form className=\"form-signup\" onSubmit={handleSubmit}>\r\n          <h3>Sign Up</h3>\r\n          <div className=\"d-flex\">\r\n            <input\r\n              name=\"name\"\r\n              className=\"input-primary\"\r\n              type=\"text\"\r\n              placeholder=\"Full Name\"\r\n              onChange={handleInputChange}\r\n            />\r\n          </div>\r\n          <small className=\"input-error\">{formError?.name}</small>\r\n          <div className=\"d-flex\">\r\n            <input\r\n              name=\"email\"\r\n              className=\"input-primary\"\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              onChange={handleInputChange}\r\n            />\r\n          </div>\r\n          <small className=\"input-error\">{formError?.email}</small>\r\n          <div className=\"d-flex\">\r\n            <input\r\n              name=\"password\"\r\n              className=\"input-primary\"\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              onChange={handleInputChange}\r\n            />\r\n          </div>\r\n          <small className=\"input-error\">{formError?.password}</small>\r\n          <div className=\"d-flex\">\r\n            <select\r\n              name=\"gender\"\r\n              className=\"input-primary\"\r\n              onChange={handleInputChange}\r\n            >\r\n              <option value=\"\">Gender</option>\r\n              <option value=\"Male\">Male</option>\r\n              <option value=\"Female\">Female</option>\r\n              <option value=\"Other\">Other</option>\r\n            </select>\r\n          </div>\r\n          <small className=\"input-error\">{formError?.gender}</small>\r\n          <div className=\"d-flex custom-file-group\">\r\n            <label htmlFor=\"file-upload\" className=\"custom-file-upload\">\r\n              Select Photo\r\n            </label>\r\n            <input\r\n              name=\"avatars\"\r\n              id=\"file-upload\"\r\n              className=\"input-primary\"\r\n              type=\"file\"\r\n              placeholder=\"Select photo\"\r\n              onChange={fileHandler}\r\n            />\r\n          </div>\r\n          <small className=\"input-error\">{formError?.photoUrl}</small>\r\n          <div className=\"d-flex mt-20\">\r\n            <input className=\"button-secondary\" type=\"reset\" value=\"Clear\" />\r\n            <input className=\"button-primary\" type=\"submit\" value=\"Signup\" />\r\n          </div>\r\n\r\n          <div className=\"d-flex\">\r\n            <div className=\"form-footer\">\r\n              Have an account? <Link to=\"/login\">Sign in</Link>{\" \"}\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import { BrowserRouter as Router, Switch } from \"react-router-dom\";\nimport io from \"socket.io-client\";\nimport \"./App.css\";\nimport AppWrapper from \"./components/AppWrapper/AppWrapper\";\nimport CheckLogin from \"./components/CheckLogin/CheckLogin\";\nimport Container from \"./components/Container/Container\";\nimport { GuestRoute, PrivateRoute } from \"./lib/helpers/routeHelper\";\nimport Home from \"./pages/Home/Home\";\nimport LoginForm from \"./pages/Login/LoginForm\";\nimport Register from \"./pages/Register/Register\";\n\nexport const socketIo = io(\"/\");\nfunction App() {\n  return (\n    <Router>\n      <Container>\n        <AppWrapper>\n          <CheckLogin>\n            <Switch>\n              <GuestRoute path=\"/login\">\n                <LoginForm />\n              </GuestRoute>\n              <GuestRoute path=\"/register\">\n                <Register />\n              </GuestRoute>\n              <PrivateRoute path=\"/\">\n                <Home />\n              </PrivateRoute>\n            </Switch>\n          </CheckLogin>\n        </AppWrapper>\n      </Container>\n    </Router>\n  );\n}\n\nexport default App;\n","const initialState = {\r\n  pageLoading: true,\r\n  isLoggedIn: false,\r\n  loggedInUser: {},\r\n  showProfile: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_LOGGED_IN\": {\r\n      const newState = {\r\n        ...state,\r\n        isLoggedIn: true,\r\n        loggedInUser: action.payload,\r\n      };\r\n      return newState;\r\n    }\r\n    case \"SET_LOGGED_OUT\": {\r\n      const newState = {\r\n        ...state,\r\n        isLoggedIn: false,\r\n        loggedInUser: {},\r\n      };\r\n      return newState;\r\n    }\r\n    case \"SET_LOADING\": {\r\n      const newState = {\r\n        ...state,\r\n        pageLoading: action.payload,\r\n      };\r\n      return newState;\r\n    }\r\n\r\n    case \"SHOW_PROFILE\": {\r\n      const newState = {\r\n        ...state,\r\n        showProfile: !state.showProfile,\r\n      };\r\n      return newState;\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","const initialState = {\r\n  chatOpen: false,\r\n  allConversations: [],\r\n  activeConversation: {},\r\n  receiver: {},\r\n  messages: [],\r\n  newMessages: [],\r\n};\r\n\r\nconst chatReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_ALL_CONVERSATION\": {\r\n      const newState = {\r\n        ...state,\r\n        allConversations: action.payload,\r\n      };\r\n      return newState;\r\n    }\r\n\r\n    case \"SET_ACTIVE_CONVERSATION\": {\r\n      const newState = {\r\n        ...state,\r\n        activeConversation: action.payload.conversation,\r\n        receiver: action.payload.receiver,\r\n        messages: action.payload.messages,\r\n        chatOpen: true,\r\n        newMessages: [],\r\n      };\r\n      return newState;\r\n    }\r\n\r\n    case \"RESET_CONVERSATION\": {\r\n      const newState = {\r\n        ...state,\r\n        activeConversation: {},\r\n        receiver: {},\r\n        messages: {},\r\n        chatOpen: false,\r\n        newMessages: [],\r\n      };\r\n      return newState;\r\n    }\r\n\r\n    case \"SET_NEW_MESSAGE\": {\r\n      const newState = {\r\n        ...state,\r\n        newMessages: [...state.newMessages, action.payload],\r\n      };\r\n      return newState;\r\n    }\r\n\r\n    case \"RESET_NEW_MESSAGE\": {\r\n      const newState = {\r\n        ...state,\r\n        newMessages: [],\r\n      };\r\n      return newState;\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport default chatReducer;\r\n","import { combineReducers, createStore } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport authReducer from \"./reducers/authReducer\";\r\nimport chatReducer from \"./reducers/chatReducer\";\r\n\r\nconst combinedReducer = combineReducers({\r\n  auth: authReducer,\r\n  chat: chatReducer,\r\n});\r\n\r\nexport const store = createStore(combinedReducer, composeWithDevTools());\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport { store } from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","function decoratErr(errors) {\r\n  const res = {};\r\n  Object.keys(errors).forEach((err) => (res[err] = errors[err].msg));\r\n  return res;\r\n}\r\n\r\nmodule.exports = { decoratErr };\r\n"],"sourceRoot":""}